{"componentChunkName":"component---src-templates-post-jsx","path":"/pinpoint-install-with-docker/","result":{"data":{"site":{"siteMetadata":{"title":"jeongjae's.blog"}},"markdownRemark":{"id":"7e3fa059-60fc-5ae7-bc0a-566ddc914e70","excerpt":"EC2 구성 AMI - Amazon Linux 2 AMI (HVM) - Kernel 5.10, SSD Volume Type 선택 도커 및 Git 설치 도커 컴포즈 설치 Pinpoint 설치 위 명령어 실행시 아래 와 같이 오류 발생하여 권한처리 후 정상동작 확인 Pinpoint Web 접속 http://[Pinpoint-Web-host]:8079 Samp…","html":"<h2>EC2 구성</h2>\n<ul>\n<li>AMI - <strong>Amazon Linux 2 AMI (HVM) - Kernel 5.10, SSD Volume Type 선택</strong></li>\n</ul>\n<h2>도커 및 Git 설치</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># docker 설치</span>\n<span class=\"token function\">sudo</span> amazon-linux-extras <span class=\"token function\">install</span> <span class=\"token function\">docker</span>\n\n<span class=\"token comment\"># docker 실행</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">docker</span> start\n\n<span class=\"token comment\"># docker 사용자 ec2-user 그룹에 추가</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">usermod</span> -a -G <span class=\"token function\">docker</span> ec2-user\n\n<span class=\"token comment\"># Git 설치</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token function\">git</span> -y\n\n<span class=\"token comment\"># 재부팅</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">reboot</span></code></pre></div>\n<h2>도커 컴포즈 설치</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># docker-compose 설치</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> -L https://github.com/docker/compose/releases/latest/download/docker-compose-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -s<span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -m<span class=\"token variable\">)</span></span> -o /usr/local/bin/docker-compose\n\n<span class=\"token comment\"># 권한 수정</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose\n\n<span class=\"token comment\"># Verify</span>\n<span class=\"token function\">docker-compose</span> version</code></pre></div>\n<h2>Pinpoint 설치</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/naver/pinpoint-docker.git\n<span class=\"token builtin class-name\">cd</span> pinpoint-docker\n<span class=\"token function\">docker-compose</span> pull <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">docker-compose</span> up -d</code></pre></div>\n<h2>위 명령어 실행시 아래 와 같이 오류 발생하여 권한처리 후 정상동작 확인</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># docker-compose pull &amp;&amp; docker-compose up -d 실행 시 오류 발생!!</span>\nGot permission denied <span class=\"token keyword\">while</span> trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get <span class=\"token string\">\"http://%2Fvar%2Frun%2Fdocker.sock/v1.24/info\"</span><span class=\"token builtin class-name\">:</span> dial unix /var/run/docker.sock: connect: permission denied\n\n<span class=\"token comment\"># docker.sock 권한 변경</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> <span class=\"token number\">666</span> /var/run/docker.sock\n\n<span class=\"token comment\"># 다시 실행</span>\n<span class=\"token function\">docker-compose</span> pull <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">docker-compose</span> up -d</code></pre></div>\n<h2>Pinpoint Web 접속</h2>\n<ul>\n<li><a href=\"http://%5BPinpoint-Web-host%5D:8079\">http://[Pinpoint-Web-host]:8079</a></li>\n<li>Sample App(quickapp) 앱 확인</li>\n</ul>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/b9823054dd0c6077eee3f650bc6f8534/1758b/demo.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 98.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACbUlEQVQ4y51Ty27TQBT1v5A4PCSaNGldqIIKC1Y8Vog9UoXUINEKyqa7SjzEilYglPIVsENIdFFKFxCQgOyC2jRtpT5IYsfjmbHjHOY6cbBCaVJGOrrO2HNyzr1nNCN1BqNjIzAyGSSHkhhODUOP6QpxnNQTiKsaOxHDKV1HIq7jdDyBTPIs0pkUzhkGjBED59MpjA0nkU4OQZvILSJ79wWuTD/DzPwi7j3KY/ZxHg+eLCE3n8f0w5eYffoKl2/NYfTqJLIzc7hwI4fstdsYvz6J8Zv3MTH1HBenFnDpzgK0j2WJD2UXX3cktqoMlarAdk0GtbTH8XOfYeOXg+Vv63i7VsTy+hZerxbwZqWId59KeP9jFyuVFlY3PRR2fGjwHARwHUiu4NgQHbicqd8MgtlouQLwXaAp8bnCsbZJQiS+bKt9NBXUO19As5kDAlNwHALvgjl/9ljwHYPDOWy1V7csVOsNNGwGy7RwUDVh2Q40znlwKKz9IOg7wWE2GoqAg1bLddUfSQjXaxMOioBQiKAypdaVEtHVbDaPT0iVDvq+3yVpeh48qkcR9rYhukcwTRO2bcNTZFIpdZVtgtbXoqqyYzO0TO/IMj1HF6nW+pHVGzZ261Z7GB1CUkT2goG0WgEGIpRColgpo1D6jgPLVjltvyNCIiZSeibbofU+hAKVvX0UN8pB/nikl0QWqgtxJGHUdti3cCikJpxydBHpwFOODiW0TLUX/5VDUijUYUb76p47Kj4DxeZfN4UiU6vVAuK/YnNYaPsRkpLDetiNzSBkvCeH0fiE/Qssk/zjKAzvcpA7V6Ku+iel283ib8+DwKIXYZhXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='pinpoint-demo' title='pinpoint-demo' src='/static/b9823054dd0c6077eee3f650bc6f8534/ca1dc/demo.png' srcset='/static/b9823054dd0c6077eee3f650bc6f8534/e7570/demo.png 170w,\n/static/b9823054dd0c6077eee3f650bc6f8534/f46e7/demo.png 340w,\n/static/b9823054dd0c6077eee3f650bc6f8534/ca1dc/demo.png 680w,\n/static/b9823054dd0c6077eee3f650bc6f8534/02d09/demo.png 1020w,\n/static/b9823054dd0c6077eee3f650bc6f8534/9d567/demo.png 1360w,\n/static/b9823054dd0c6077eee3f650bc6f8534/1758b/demo.png 2686w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>pinpoint-demo</figcaption>\n  </figure></p>\n<h2>Reference</h2>\n<ul>\n<li><a href=\"https://gist.github.com/npearce/6f3c7826c7499587f00957fee62f8ee9\">https://gist.github.com/npearce/6f3c7826c7499587f00957fee62f8ee9</a></li>\n<li><a href=\"https://pinpoint-apm.gitbook.io/pinpoint/\">https://pinpoint-apm.gitbook.io/pinpoint/</a></li>\n<li><a href=\"https://newbedev.com/shell-error-got-permission-denied-while-trying-to-connect-to-the-docker-daemon-socket-at-unix-var-run-docker-sock-get-http-2fvar-2frun-2fdocker-sock-v1-24-info-dial-unix-var-run-docker-sock-connect-permission-denied-code-example\">https://newbedev.com/shell-error-got-permission-denied-while-trying-to-connect-to-the-docker-daemon-socket-at-unix-var-run-docker-sock-get-http-2fvar-2frun-2fdocker-sock-v1-24-info-dial-unix-var-run-docker-sock-connect-permission-denied-code-example</a></li>\n</ul>","frontmatter":{"title":"AWS EC2 Pinpoint 설치 with docker","date":"June 15, 2022","update":"June 15, 2022","tags":["pinpoint","aws","java","apm","docker","docker-compose"],"series":null},"fields":{"slug":"/pinpoint-install-with-docker/","readingTime":{"minutes":1.185}}},"seriesList":{"edges":[{"node":{"id":"7e3fa059-60fc-5ae7-bc0a-566ddc914e70","fields":{"slug":"/pinpoint-install-with-docker/"},"frontmatter":{"title":"AWS EC2 Pinpoint 설치 with docker"}}},{"node":{"id":"99508f11-35e0-5f0d-a79c-dbee96ebed35","fields":{"slug":"/pinpoint-install/"},"frontmatter":{"title":"AWS EC2 Pinpoint 설치"}}},{"node":{"id":"4f03a198-05fe-5536-9449-d9afd51f0240","fields":{"slug":"/git-mirror/"},"frontmatter":{"title":"Git 저장소 복제 하기"}}},{"node":{"id":"38da35bb-b3e8-597a-8058-17168bacfd66","fields":{"slug":"/README/"},"frontmatter":{"title":"우아한테크세미나 코프링 정리"}}},{"node":{"id":"3260f656-012e-55a6-875a-5f23cff60637","fields":{"slug":"/README/"},"frontmatter":{"title":"리눅스 서버 터미널 기본 설정"}}}]},"previous":{"fields":{"slug":"/docker/"},"frontmatter":{"title":"Docker 시작하기"}},"next":{"fields":{"slug":"/pinpoint-install/"},"frontmatter":{"title":"AWS EC2 Pinpoint 설치"}}},"pageContext":{"id":"7e3fa059-60fc-5ae7-bc0a-566ddc914e70","series":null,"previousPostId":"97fec35b-4416-5759-811d-2e0d1f8b44be","nextPostId":"99508f11-35e0-5f0d-a79c-dbee96ebed35"}},"staticQueryHashes":[]}